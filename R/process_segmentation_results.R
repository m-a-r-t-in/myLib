#' read_rct_tree_info
#'
#' Read tree info txt file produced by RayCloudTools
#' @param file name of input file
#' @keywords input
#' @export
#' @examples
#' read_rct_tree_info()
read_rct_tree_info <- function(input.file){
  
  x <-  read_csv("Buchlovice.laz.treeInfo.txt", comment = "#")
  x$ID <- c(1:nrow(x))
  x$ID <- x$ID -1
  return(x)
  
}

#' read_first_point_xyz
#'
#' Read xyz of the first point from json generated by save_first_coord.sh script
#' @param file name of input file
#' @keywords first point coords
#' @export
#' @examples
#' read_first_point_xyz()
read_first_point_xyz <- function(input.file){
  
  first.pt <- read_json(input.file)
  pt <- first.pt$points$point
  return(c(pt$X,pt$Y,pt$Z))
}

#' read_first_point_xyz
#'
#' Read xyz of the first point from json generated by save_first_coord.sh script
#' @param file name of input file
#' @keywords first point coords
#' @export
#' @examples
#' read_first_point_xyz()
read_shift_tree_info <- function(info.file,point.file){

  tree.info <- read_rct_tree_info(info.file)
  pt <- read_first_point_xyz(point.file)
  
  tree.info$x <- tree.info$x + pt[1]
  tree.info$y <- tree.info$x + pt[2]
  tree.info$z <- tree.info$x + pt[3]
  
  return(tree.info)

}